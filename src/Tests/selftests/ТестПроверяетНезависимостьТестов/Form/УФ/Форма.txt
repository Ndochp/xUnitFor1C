&НаКлиенте
Перем ГлобПерем; // для тестирования

&НаКлиенте
Перем ЮТест;  // для тестирования

//{ основная процедура для юнит-тестирования 1CUnit
&НаКлиенте
Функция ПолучитьСписокТестов(ЮнитТестирование) Экспорт
	
	ЮТест = ЮнитТестирование;
	
	ВсеТесты = Новый Массив;

	ВсеТесты.Добавить("ТестДолжен_ИзменитьСостояниеПеременнойУФ");
	ВсеТесты.Добавить("ТестДолжен_СравнитьСостояниеПеременнойУФ");
	ВсеТесты.Добавить("ТестДолжен_ИзменитьСостояниеОбработкиУФ");
	ВсеТесты.Добавить("ТестДолжен_СравнитьСостояниеОбработкиУФ");

	Возврат ВсеТесты;
	
КонецФункции

Функция РазрешенСлучайныйПорядокВыполненияТестов() Экспорт
	Возврат Ложь;
КонецФункции
//}

//{ блок юнит-тестов - сами тесты
&НаКлиенте
Процедура ПропуститьТестИзОтказаОтСозданияРазныхЭкземпляровТестовойОбработки() Экспорт
	ЮТест.ПропуститьТест("Независимость тестов путем создания разных экземпляров обработки-теста больше не поддерживается");
КонецПроцедуры

&НаКлиенте
Процедура ТестДолжен_ИзменитьСостояниеПеременнойУФ() Экспорт
	ПропуститьТестИзОтказаОтСозданияРазныхЭкземпляровТестовойОбработки();
	
	ГлобПерем = 2;
КонецПроцедуры

&НаКлиенте
Процедура ТестДолжен_СравнитьСостояниеПеременнойУФ() Экспорт
	ПропуститьТестИзОтказаОтСозданияРазныхЭкземпляровТестовойОбработки();
	
	ЮТест.ПроверитьРавенство(Неопределено, ГлобПерем, "Не выполнено условие Неопределено == ГлобПерем - тесты являются зависимыми");
КонецПроцедуры

&НаКлиенте
Процедура ТестДолжен_ИзменитьСостояниеОбработкиУФ() Экспорт
	ПропуститьТестИзОтказаОтСозданияРазныхЭкземпляровТестовойОбработки();
	
	Объект.Состояние = 2;
КонецПроцедуры

&НаКлиенте
Процедура ТестДолжен_СравнитьСостояниеОбработкиУФ() Экспорт
	ПропуститьТестИзОтказаОтСозданияРазныхЭкземпляровТестовойОбработки();
	
	ЮТест.ПроверитьРавенство(0, Объект.Состояние, "Не выполнено условие 0 == Состояние - тесты являются зависимыми");
КонецПроцедуры

//} конец блока юнит-тестов
